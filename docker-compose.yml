version: '3' 

services: 
  flexget:  
    image: cpoppema/docker-flexget
    environment:
      - PUID=1000
      - PGID=1000
      - WEB_PASSWD=fgpass
      - TORRENT_PLUGIN=transmission
      - TZ=Europe/Madrid
      - FLEXGET_LOG_LEVEL=info
    volumes:
      - ./movies:/movies
      - ./flexget/config:/config
    ports:
      - 5050:5050
    restart: unless-stopped
    depends_on:
      - transmission
  transmission:
    image: linuxserver/transmission
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Madrid
      - USER=tmuser
      - PASS=tmpass
    volumes:
      - ./movies:/movies
    ports:
      - 9091:9091
    restart: unless-stopped
  plex:
    image: linuxserver/plex
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Madrid
      - PLEX_CLAIM=claim-plex
      - VERSION=docker
    volumes:
      - ./plex/config:/config
      - ./movies:/movies
    network_mode: host
    restart: unless-stopped